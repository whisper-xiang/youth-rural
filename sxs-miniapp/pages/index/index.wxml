<view class="page">
  <!-- é¡¶éƒ¨ Banner -->
  <view class="banner">
    <view class="banner-bg"></view>
    <view class="banner-content">
      <view class="banner-icon">ğŸŒ¾</view>
      <view class="banner-text">
        <view class="banner-title">å¤§å­¦ç”Ÿæš‘æœŸ"ä¸‰ä¸‹ä¹¡"</view>
        <view class="banner-subtitle">ç¤¾ä¼šå®è·µæ´»åŠ¨ç®¡ç†ç³»ç»Ÿ</view>
      </view>
    </view>
    <!-- ç”¨æˆ·ä¿¡æ¯ï¼ˆå·²ç™»å½•ï¼‰ -->
    <view class="banner-user" wx:if="{{isLogin}}">
      <view class="user-avatar">{{userInfo.avatarText}}</view>
      <view class="user-info">
        <view class="user-name">{{userInfo.name}}</view>
        <view class="user-role">{{userInfo.roleName}}</view>
      </view>
      <view class="switch-role" bindtap="switchRole">åˆ‡æ¢</view>
    </view>
    <!-- ç™»å½•æŒ‰é’®ï¼ˆæœªç™»å½•ï¼‰ -->
    <view class="banner-login" wx:else bindtap="goLogin">
      <view class="login-avatar">ğŸ‘¤</view>
      <view class="login-text">ç‚¹å‡»ç™»å½•</view>
    </view>
  </view>

  <!-- å¿«æ·ç»Ÿè®¡ -->
  <view class="quick-stats" wx:if="{{isLogin}}">
    <view class="stat-item" bindtap="goToStats" data-type="project">
      <view class="stat-num">{{stats.projectCount || 12}}</view>
      <view class="stat-label">è¿›è¡Œä¸­é¡¹ç›®</view>
    </view>
    <view class="stat-item" bindtap="goToStats" data-type="pending">
      <view class="stat-num">{{stats.pendingCount || 3}}</view>
      <view class="stat-label">å¾…å¤„ç†</view>
    </view>
    <view class="stat-item" bindtap="goToStats" data-type="notice">
      <view class="stat-num">{{stats.noticeCount || 5}}</view>
      <view class="stat-label">æ–°é€šçŸ¥</view>
    </view>
  </view>

  <!-- åŠŸèƒ½æ¨¡å—å…¥å£ -->
  <view class="module-section" wx:if="{{modules.length > 0}}">
    <view class="section-header">
      <view class="section-title">åŠŸèƒ½æ¨¡å—</view>
      <view class="section-hint">æ ¹æ®æ‚¨çš„èº«ä»½æ˜¾ç¤º</view>
    </view>
    <view class="module-grid">
      <view class="module-card" wx:for="{{modules}}" wx:key="key" bindtap="goToPage" data-url="{{item.url}}">
        <view class="module-icon-wrap">
          <view class="module-icon {{item.icon}}"></view>
        </view>
        <view class="module-info">
          <view class="module-name">{{item.name}}</view>
          <view class="module-desc">{{item.desc}}</view>
        </view>
        <view class="module-arrow">â€º</view>
      </view>
    </view>
  </view>

  <!-- æœªç™»å½•æç¤º -->
  <view class="empty-section" wx:if="{{!isLogin}}">
    <view class="empty-icon">ğŸ”</view>
    <view class="empty-title">è¯·å…ˆç™»å½•</view>
    <view class="empty-desc">ç™»å½•åå¯æŸ¥çœ‹æ‚¨çš„åŠŸèƒ½æ¨¡å—</view>
    <view class="empty-btn" bindtap="goLogin">ç«‹å³ç™»å½•</view>
  </view>

  <!-- æ— æ¨¡å—æç¤º -->
  <view class="empty-section" wx:if="{{modules.length === 0 && isLogin}}">
    <view class="empty-icon">ğŸ“‹</view>
    <view class="empty-title">æš‚æ— å¯ç”¨æ¨¡å—</view>
    <view class="empty-desc">å½“å‰è§’è‰²æš‚æ— å¯ç”¨åŠŸèƒ½æ¨¡å—</view>
  </view>
</view>
