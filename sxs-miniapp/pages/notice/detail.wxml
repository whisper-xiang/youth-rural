<view class="page">
  <!-- é€šçŸ¥å¤´éƒ¨ -->
  <view class="header">
    <view class="notice-tag tag-{{detail.type}}">{{detail.typeName}}</view>
    <view class="notice-title">{{detail.title}}</view>
    <view class="notice-meta">
      <view class="meta-item">
        <text class="meta-label">å‘å¸ƒå•ä½ï¼š</text>
        <text class="meta-value">{{detail.source}}</text>
      </view>
      <view class="meta-item">
        <text class="meta-label">å‘å¸ƒæ—¶é—´ï¼š</text>
        <text class="meta-value">{{detail.publishTime}}</text>
      </view>
      <view class="meta-item" wx:if="{{detail.viewCount}}">
        <text class="meta-label">é˜…è¯»æ¬¡æ•°ï¼š</text>
        <text class="meta-value">{{detail.viewCount}}</text>
      </view>
    </view>
  </view>

  <!-- é€šçŸ¥å†…å®¹ -->
  <view class="content">
    <rich-text nodes="{{detail.content}}"></rich-text>
  </view>

  <!-- é™„ä»¶åˆ—è¡¨ -->
  <view class="attachments" wx:if="{{detail.attachments && detail.attachments.length > 0}}">
    <view class="section-title">é™„ä»¶ä¸‹è½½</view>
    <view class="attachment-list">
      <view class="attachment-item" wx:for="{{detail.attachments}}" wx:key="index" bindtap="downloadFile" data-file="{{item}}">
        <view class="attachment-icon file-{{item.type}}"></view>
        <view class="attachment-info">
          <view class="attachment-name">{{item.name}}</view>
          <view class="attachment-size">{{item.size}}</view>
        </view>
        <view class="attachment-action">ä¸‹è½½</view>
      </view>
    </view>
  </view>

  <!-- åº•éƒ¨æ“ä½œ -->
  <view class="footer">
    <view class="btn-share" bindtap="shareNotice">
      <text class="btn-icon">ğŸ“¤</text>
      <text class="btn-text">åˆ†äº«</text>
    </view>
    <view class="btn-collect {{detail.isCollected ? 'collected' : ''}}" bindtap="toggleCollect">
      <text class="btn-icon">{{detail.isCollected ? 'â­' : 'â˜†'}}</text>
      <text class="btn-text">{{detail.isCollected ? 'å·²æ”¶è—' : 'æ”¶è—'}}</text>
    </view>
  </view>
</view>
