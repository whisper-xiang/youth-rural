<view class="page">
  <!-- é¡¶éƒ¨æ“ä½œæ  -->
  <view class="header">
    <view class="header-title">æ´»åŠ¨è¿›åº¦</view>
    <view class="btn-add" bindtap="addProgress">+ ä¸Šä¼ è¿›åº¦</view>
  </view>

  <!-- è¿›åº¦æ—¶é—´çº¿ -->
  <view class="timeline" wx:if="{{list.length > 0}}">
    <view class="timeline-item" wx:for="{{list}}" wx:key="id" bindtap="goDetail" data-id="{{item.id}}">
      <view class="timeline-dot"></view>
      <view class="timeline-line" wx:if="{{index < list.length - 1}}"></view>
      <view class="timeline-content">
        <view class="content-header">
          <view class="content-title">{{item.title}}</view>
          <view class="content-date">{{item.date}}</view>
        </view>
        <view class="content-summary">{{item.summary}}</view>
        <view class="content-images" wx:if="{{item.images && item.images.length > 0}}">
          <image class="thumb" wx:for="{{item.images}}" wx:for-item="img" wx:key="*this" src="{{img}}" mode="aspectFill" />
          <view class="image-count" wx:if="{{item.imageCount > 3}}">+{{item.imageCount - 3}}</view>
        </view>
        <view class="content-footer">
          <text class="footer-user">{{item.uploader}}</text>
          <text class="footer-team">{{item.teamName}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty" wx:else>
    <view class="empty-icon">ğŸ“</view>
    <view class="empty-text">æš‚æ— è¿›åº¦è®°å½•</view>
    <view class="empty-hint">ç‚¹å‡»å³ä¸Šè§’ä¸Šä¼ æ´»åŠ¨è¿›åº¦</view>
  </view>
</view>
